This app works best with JavaScript enabled.

<a href="https://www.stackbit.com/" class="site-header-logo-wrapper"><img src="https://www.stackbit.com/images/logo_alt.svg" alt="Stackbit logo" class="site-header-logo" width="187" height="29" /></a><span class="site-header-logo-sep"></span><a href="/docs/" class="site-header-logo-link">Docs</a>

<span class="screen-reader-text">Show Menu</span><span class="site-header-nav-icon" aria-hidden="true"></span>

-   <a href="https://www.stackbit.com/docs/" class="site-header-menu-item-link">Documentation</a>
-   <a href="https://www.stackbit.com/blog/" class="site-header-menu-item-link">Blog</a>
-   <a href="https://www.stackbit.com/pricing/" class="site-header-menu-item-link">Pricing</a>
-   <a href="https://app.stackbit.com/" class="site-header-menu-item-link">Sign In</a>
-   <a href="https://app.stackbit.com/create" class="button-component button-component-theme-accent"><span>Get Started</span></a>

Navigate Docs<span class="icon-angle-right" aria-hidden="true"></span>

-   [Stackbit Docs](/docs/)
    <span class="screen-reader-text">Submenu</span><span class="search-shortcut">âŒ˜K</span>
-   [Getting Started](/docs/getting-started/)
    <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
    -   [Create a New Site](/docs/getting-started/create-site/)
    -   [Connect Services](/docs/getting-started/connect-services/)
    -   [Live & Shareable Previews](/docs/getting-started/live-previews/)
    -   [GitHub Sync](/docs/getting-started/content-sync/)
    -   [Local Development](/docs/getting-started/edit-code/)
    -   [Drag-and-Drop Components](/docs/getting-started/drag-and-drop/)
    -   [Content Modeling](/docs/getting-started/content-modeling/)
    -   [Publish to Production](/docs/getting-started/production/)
    -   [Continue Your Journey](/docs/getting-started/next-steps/)

-   [Studio Guides](/docs/studio-guides/)
    <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
    -   [Editing Content](/docs/studio-guides/editing-content/)
    -   [Adding Pages](/docs/studio-guides/adding-pages/)
    -   [Managing SEO](/docs/studio-guides/managing-seo/)
    -   [Publishing](/docs/studio-guides/publishing/)
    -   [Modeling Content](/docs/studio-guides/modeling-content/)
    -   [Sharing and Collaborators](/docs/studio-guides/sharing/)
    -   [Project Settings](/docs/studio-guides/settings/)
    -   [Debugging and Logs](/docs/studio-guides/logs/)

-   [Developer Guides](/docs/developer-guides/)
    <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
    -   [The Basics](/docs/developer-guides/basics/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Local Development](/docs/developer-guides/basics/local-development/)
        -   [Deploy Your Site](/docs/developer-guides/basics/deploy/)
        -   [Adding a Custom Domain](/docs/developer-guides/basics/custom-domain/)
        -   [Import an Existing Site into Stackbit](/docs/developer-guides/basics/import-your-site/)

    -   [Integrations](/docs/developer-guides/integrations/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Azure](/docs/developer-guides/integrations/azure/)
        -   [DigitalOcean](/docs/developer-guides/integrations/digital-ocean/)
        -   [Netlify](/docs/developer-guides/integrations/netlify/)

    -   [Content Modeling](/docs/developer-guides/content-modeling/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Building Sites with Components](/docs/developer-guides/content-modeling/building-with-components/)
        -   [Tailwind Components](/docs/developer-guides/content-modeling/adding-tailwind-components/)
        -   [Sectioning a Theme](/docs/developer-guides/content-modeling/adding-sections-existing-theme/)

    -   [API-Based CMS](/docs/developer-guides/api-cms/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Ensure Validation on the CMS Side](/docs/developer-guides/api-cms/validation/)
        -   [Code Defensively](/docs/developer-guides/api-cms/code-defensively/)
        -   [Leverage the Existing Ecosystem](/docs/developer-guides/api-cms/leverage-ecosystem/)

    -   [Git-Based CMS](/docs/developer-guides/git-cms/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Understanding Content Relationships](/docs/developer-guides/git-cms/why-relationships-git/)
        -   [Relationships in Netlify CMS](/docs/developer-guides/git-cms/relationships-netlify-cms/)
        -   [Relationships in Forestry](/docs/developer-guides/git-cms/relationships-forestry/)

    -   [Gatsby](/docs/developer-guides/gatsby/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Adding a Favicon](/docs/developer-guides/gatsby/favicon/)
        -   [Adding Analytics](/docs/developer-guides/gatsby/analytics/)
        -   [Adding a Sitemap](/docs/developer-guides/gatsby/sitemap/)
        -   [Adding Site Search](/docs/developer-guides/gatsby/site-search/)

-   [Reference](/docs/reference/)
    <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
    -   [stackbit.yaml](/docs/reference/stackbit-yaml/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Properties](/docs/reference/stackbit-yaml/properties/)
        -   [Import](/docs/reference/stackbit-yaml/import/)
        -   [Assets](/docs/reference/stackbit-yaml/assets/)
        -   [Logic Fields](/docs/reference/stackbit-yaml/logic-fields/)
        -   [Models](/docs/reference/stackbit-yaml/models/)
        -   [Page models](/docs/reference/stackbit-yaml/page-models/)
        -   [Data models](/docs/reference/stackbit-yaml/data-models/)
        -   [Object models](/docs/reference/stackbit-yaml/object-models/)
        -   [Model Fields](/docs/reference/stackbit-yaml/fields/)
        -   [Examples](/docs/reference/stackbit-yaml/examples/)

    -   [Stackbit CLI](/docs/reference/stackbit-cli/)
    -   [Create Button](/docs/reference/create-button/)
    -   [Example Projects](/docs/reference/examples/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Simple Next.js Example](/docs/reference/examples/simple-nextjs/)

-   [Conceptual Guides](/docs/conceptual-guides/)
    <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
    -   [How Stackbit Works](/docs/conceptual-guides/how-stackbit-works/)
    -   [Site Preview](/docs/conceptual-guides/site-preview/)
    -   [Content Model](/docs/conceptual-guides/content-model/)
    -   [API-based vs. Git-based CMS](/docs/conceptual-guides/api-versus-git-based-cms/)
    -   [File-Based CMS](/docs/conceptual-guides/file-based-cms/)
    -   [API-based CMS](/docs/conceptual-guides/api-based-cms/)
    -   [Site Creation](/docs/conceptual-guides/site-creation/)
    -   [Separating Content from Presentation](/docs/conceptual-guides/content-presentation-separation/)
    -   [Content Slug Best Practices](/docs/conceptual-guides/best-practices-slug/)

![Stackbit](/docs/images/stackbit-crane-sm.png)

Import
======

The [`import`](/docs/reference/stackbit-yaml/import/) object defines how to import the initial theme content into an API-based CMS.

If your theme works with an API-based CMS, such as Contentful or Sanity, you might want to have an initial content which will be imported into the CMS when Stackbit creates a new site from your theme.

When user creates a new site from a theme powered by API-based CMS, Stackbit Site Builder can provision the CMS with the initial theme content. As part of the provisioning process, Stackbit Site Builder will create a CMS project, import the content schema, and the initial content located in a special "export" file previously exported from the CMS. The "export" file can be created using the tools provided by CMS, such as CLI. Stackbit will also generate any access tokens required by the static site generator to fetch the content from CMS, and will setup webhooks needed to trigger the deployment platform when the user publishes the content inside CMS. To support this automatic provisioning, you will need to provide the `import` object.

![Stackbit Studio with API-based CMS Diagram](/docs/images/import-diagram-contentful.svg)

**Note:** Currently Stackbit supports importing content for Contentful and Sanity CMS's only.

<a href="#contentful" class="hash-link"><span class="icon-copy"></span></a>Contentful
-------------------------------------------------------------------------------------

If your theme uses Contentful as the headless-CMS, you can [export the content schema and the initial site contents](https://www.contentful.com/developers/docs/tutorials/cli/import-and-export/) into a JSON file. Specify the path to this file in the `contentFile` property. You should also provide the names of the environment variables for the space ID and the Content Delivery API Token expected by your static site generator to fetch the data from Contentful. Use `spaceIdEnvVar` and `accessTokenEnvVar` to specify the environment variable name for the space ID and the Content Delivery API Token, respectively.

For example, if your theme uses Gatsby you need to specify the names of the environment variables used to configure the [gatsby-source-contentful](https://www.gatsbyjs.com/plugins/gatsby-source-contentful/) plugin.

`stackbit.yaml`:

    stackbitVersion: ~0.3.0
    ssgName: gatsby
    cmsName: contentful
    import:
      type: contentful
      contentFile: contentful/export.json
      spaceIdEnvVar: CONTENTFUL_SPACE_ID
      accessTokenEnvVar: CONTENTFUL_ACCESS_TOKEN

`contentful-export.json` (created by running `contentful space export`):

    {
        "contentTypes": [...],
        "entries": [...],
        "assets": [...],
        "locales": [...],
        "webhooks": [...],
        "roles": [...],
        "editorInterfaces": [...]
    }

Example for `gatsby-config.js` with `gatsby-source-contentful` configured to read `spaceId` and `accessToken` options from `CONTENTFUL_SPACE_ID` and `CONTENTFUL_ACCESS_TOKEN` environment variables respectively:

    module.exports = {
        plugins: [
            {
                resolve: `gatsby-source-contentful`,
                options: {
                    spaceId: process.env.CONTENTFUL_SPACE_ID,
                    accessToken: process.env.CONTENTFUL_ACCESS_TOKEN,
                },
            }
        ]
    };

**Note:** If the static site generator uses different environment variables names, the values of the \`spaceIdEnvVar\` and \`accessTokenEnvVar\` properties have to reflect that.

**Example**

Here is an example for [Contentful-Gatsby](https://github.com/stackbit-themes/azimuth-gatsby-contentful) starter repo with Contentful data exported into the `contentful/export.json` file. The path to this file and several other properties are specified in `stackbit.yaml` in the `import` object. In this example, the `import` object has two additional properties - `uploadAssets` and `assetsDirectory`. You should use these properties if your exported data includes downloaded assets as explained in the [contentful-import](https://github.com/contentful/contentful-import#assets) package.

<a href="#sanity" class="hash-link"><span class="icon-copy"></span></a>Sanity
-----------------------------------------------------------------------------

If your theme uses Sanity as the headless-CMS, you can [export the content schema and the initial site contents](https://www.sanity.io/docs/export) into an NDJSON file. Specify the path to this file in the `contentFile` property. You should also provide the names of the environment variables for the project ID, the dataset, and the token expected by your static site generator to fetch the data from Sanity. Use `projectIdEnvVar`, `datasetEnvVar` and `tokenEnvVar` to specify the environment variable name for the project ID, the dataset, and the token, respectively.

You can also set the boolean flags `deployStudio` and `deployGraphql` to ensure that Stackbit deploys Sanity Studio and Sanity GraphQL API when creating the site. Note, `gatsby-source-sanity` plugin might require having Sanity GraphQL API endpoint in order to work properly.

For example, if your theme uses Gatsby you need to specify the names of the environment variables used to configure the [gatsby-source-sanity](https://www.gatsbyjs.com/plugins/gatsby-source-sanity/) plugin.

`stackbit.yaml`:

    stackbitVersion: ~0.3.0
    ssgName: gatsby
    cmsName: sanity
    import:
      type: sanity
      contentFile: sanity-export.tar.gz
      sanityStudioPath: studio
      deployStudio: true
      deployGraphql: true
      projectIdEnvVar: SANITY_PROJECT_ID
      datasetEnvVar: SANITY_DATASET
      tokenEnvVar: SANITY_TOKEN

Example for `gatsby-config.js` with `gatsby-source-sanity` configured to read `projectId`, `dataset` and `token` options from `SANITY_PROJECT_ID`, `SANITY_DATASET` and `SANITY_TOKEN` environment variables respectively:

    module.exports = {
        plugins: [
            {
                resolve: `gatsby-source-sanity`,
                options: {
                    projectId: process.env.SANITY_PROJECT_ID,
                    dataset: process.env.SANITY_DATASET,
                    token: process.env.SANITY_TOKEN
                },
            }
        ]
    };

**Note:** If the static site generator uses different environment variables names, the values of the \`projectIdEnvVar\`, \`datasetEnvVar\` and \`tokenEnvVar\` properties have to reflect that.

**Example**

Here is an example for [Sanity-Nextjs](https://github.com/stackbit-themes/azimuth-nextjs-sanity) starter repo with Sanity data exported into the `sanity-export/export.tar.gz` file. The path to this file and several other properties are specified in `stackbit.yaml` in the `import` object.

Did you find this page useful?
------------------------------

Yes

No

Ready to get started?
---------------------

<a href="https://app.stackbit.com/create" class="button primary">Create your Jamstack site</a>

Jump to Section
---------------

-   [Contentful](#contentful)
-   [Sanity](#sanity)

<img src="https://www.stackbit.com/images/logo_alt.svg" alt="Stackbit logo" class="home-footer-logo" width="187" height="29" />

-   [Documentation](https://docs.stackbit.com/)
-   [Pricing](https://www.stackbit.com/pricing/)
-   [Site Builder](https://app.stackbit.com/create)
-   [Blog](https://stackbit.com/blog)
-   [About](https://stackbit.com/about)
-   [Contact](https://stackbit.com/contact)

Copyright Â© 2021 Stackbit. Made with Stackbit

[Terms](https://stackbit.com/tos)[Privacy](https://stackbit.com/privacy)[License](https://stackbit.com/license)

<span class="screen-reader-text">GitHub</span>

<span class="screen-reader-text">Twitter</span>

<img src="https://www.facebook.com/tr?id=2703040533152181&amp;ev=PageView&amp;noscript=1" width="1" height="1" />
