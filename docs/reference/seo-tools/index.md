This app works best with JavaScript enabled.

<a href="https://www.stackbit.com/" class="site-header-logo-wrapper"><img src="https://www.stackbit.com/images/logo_alt.svg" alt="Stackbit logo" class="site-header-logo" width="187" height="29" /></a><span class="site-header-logo-sep"></span><a href="/docs/" class="site-header-logo-link">Docs</a>

<span class="screen-reader-text">Show Menu</span><span class="site-header-nav-icon" aria-hidden="true"></span>

-   <a href="https://www.stackbit.com/docs/" class="site-header-menu-item-link">Documentation</a>
-   <a href="https://www.stackbit.com/blog/" class="site-header-menu-item-link">Blog</a>
-   <a href="https://www.stackbit.com/pricing/" class="site-header-menu-item-link">Pricing</a>
-   <a href="https://app.stackbit.com/" class="site-header-menu-item-link">Sign In</a>
-   <a href="https://app.stackbit.com/create" class="button-component button-component-theme-accent"><span>Get Started</span></a>

Navigate Docs<span class="icon-angle-right" aria-hidden="true"></span>

-   [Stackbit Docs](/docs/)
    <span class="screen-reader-text">Submenu</span><span class="search-shortcut">⌘K</span>
-   [Getting Started](/docs/getting-started/)
    <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
    -   [Create a New Site](/docs/getting-started/create-site/)
    -   [Connect Services](/docs/getting-started/connect-services/)
    -   [Live & Shareable Previews](/docs/getting-started/live-previews/)
    -   [GitHub Sync](/docs/getting-started/content-sync/)
    -   [Local Development](/docs/getting-started/edit-code/)
    -   [Drag-and-Drop Components](/docs/getting-started/drag-and-drop/)
    -   [Content Modeling](/docs/getting-started/content-modeling/)
    -   [Publish to Production](/docs/getting-started/production/)
    -   [Continue Your Journey](/docs/getting-started/next-steps/)

-   [Studio Guides](/docs/studio-guides/)
    <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
    -   [Editing Content](/docs/studio-guides/editing-content/)
    -   [Adding Pages](/docs/studio-guides/adding-pages/)
    -   [Managing SEO](/docs/studio-guides/managing-seo/)
    -   [Publishing](/docs/studio-guides/publishing/)
    -   [Modeling Content](/docs/studio-guides/modeling-content/)
    -   [Sharing and Collaborators](/docs/studio-guides/sharing/)
    -   [Project Settings](/docs/studio-guides/settings/)
    -   [Debugging and Logs](/docs/studio-guides/logs/)

-   [Developer Guides](/docs/developer-guides/)
    <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
    -   [The Basics](/docs/developer-guides/basics/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Local Development](/docs/developer-guides/basics/local-development/)
        -   [Deploy Your Site](/docs/developer-guides/basics/deploy/)
        -   [Adding a Custom Domain](/docs/developer-guides/basics/custom-domain/)
        -   [Import an Existing Site into Stackbit](/docs/developer-guides/basics/import-your-site/)

    -   [Integrations](/docs/developer-guides/integrations/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Azure](/docs/developer-guides/integrations/azure/)
        -   [DigitalOcean](/docs/developer-guides/integrations/digital-ocean/)
        -   [Netlify](/docs/developer-guides/integrations/netlify/)

    -   [Content Modeling](/docs/developer-guides/content-modeling/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Building Sites with Components](/docs/developer-guides/content-modeling/building-with-components/)
        -   [Tailwind Components](/docs/developer-guides/content-modeling/adding-tailwind-components/)
        -   [Sectioning a Theme](/docs/developer-guides/content-modeling/adding-sections-existing-theme/)

    -   [API-Based CMS](/docs/developer-guides/api-cms/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Ensure Validation on the CMS Side](/docs/developer-guides/api-cms/validation/)
        -   [Code Defensively](/docs/developer-guides/api-cms/code-defensively/)
        -   [Leverage the Existing Ecosystem](/docs/developer-guides/api-cms/leverage-ecosystem/)

    -   [Git-Based CMS](/docs/developer-guides/git-cms/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Understanding Content Relationships](/docs/developer-guides/git-cms/why-relationships-git/)
        -   [Relationships in Netlify CMS](/docs/developer-guides/git-cms/relationships-netlify-cms/)
        -   [Relationships in Forestry](/docs/developer-guides/git-cms/relationships-forestry/)

    -   [Gatsby](/docs/developer-guides/gatsby/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Adding a Favicon](/docs/developer-guides/gatsby/favicon/)
        -   [Adding Analytics](/docs/developer-guides/gatsby/analytics/)
        -   [Adding a Sitemap](/docs/developer-guides/gatsby/sitemap/)
        -   [Adding Site Search](/docs/developer-guides/gatsby/site-search/)

-   [Reference](/docs/reference/)
    <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
    -   [stackbit.yaml](/docs/reference/stackbit-yaml/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Properties](/docs/reference/stackbit-yaml/properties/)
        -   [Import](/docs/reference/stackbit-yaml/import/)
        -   [Assets](/docs/reference/stackbit-yaml/assets/)
        -   [Logic Fields](/docs/reference/stackbit-yaml/logic-fields/)
        -   [Models](/docs/reference/stackbit-yaml/models/)
        -   [Page models](/docs/reference/stackbit-yaml/page-models/)
        -   [Data models](/docs/reference/stackbit-yaml/data-models/)
        -   [Object models](/docs/reference/stackbit-yaml/object-models/)
        -   [Model Fields](/docs/reference/stackbit-yaml/fields/)
        -   [Examples](/docs/reference/stackbit-yaml/examples/)

    -   [Stackbit CLI](/docs/reference/stackbit-cli/)
    -   [Create Button](/docs/reference/create-button/)
    -   [Example Projects](/docs/reference/examples/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Simple Next.js Example](/docs/reference/examples/simple-nextjs/)

-   [Conceptual Guides](/docs/conceptual-guides/)
    <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
    -   [How Stackbit Works](/docs/conceptual-guides/how-stackbit-works/)
    -   [Site Preview](/docs/conceptual-guides/site-preview/)
    -   [Content Model](/docs/conceptual-guides/content-model/)
    -   [API-based vs. Git-based CMS](/docs/conceptual-guides/api-versus-git-based-cms/)
    -   [File-Based CMS](/docs/conceptual-guides/file-based-cms/)
    -   [API-based CMS](/docs/conceptual-guides/api-based-cms/)
    -   [Site Creation](/docs/conceptual-guides/site-creation/)
    -   [Separating Content from Presentation](/docs/conceptual-guides/content-presentation-separation/)
    -   [Content Slug Best Practices](/docs/conceptual-guides/best-practices-slug/)

![Stackbit](/docs/images/stackbit-crane-sm.png)

How to enable SEO features in a custom theme on Stackbit
========================================================

To make your theme compatible with Stackbit Studio's SEO tools, you will need to add the `domain` field, `stackbit_page_meta` model and `seo` field referencing the `stackbit_page_meta` model to all page models in the `stackbit.yaml` file and update your theme template files according to `stackbit_page_meta` model.

**Important to note!** If your theme doesn't have stackbit.yaml file, please check the documentation [here](/docs/reference/stackbit-yaml/), or you can use the [Stackbit theme as the reference](https://github.com/stackbit/stackbit-theme-azimuth).

<a href="#adding_domain_field_and_stackbit_page_meta_model_to_the_stackbit_yaml_file" class="hash-link"><span class="icon-copy"></span></a>Adding `domain` field and `stackbit_page_meta model` to the `stackbit.yaml` file
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

First, add the `domain` field to the config model in your `stackbit.yaml` file (project root directory):

    models:
      config:
        type: data
        label: Site Configuration
        fields:
          - type: string
            name: domain
            label: Domain

Next, add the `stackbit_page_meta` model under the `models` key in your `stackbit.yaml` file (project root directory):

    stackbit_page_meta:
      type: object
      label: Page meta data
      fields:
        - type: string
          name: title
          label: Title
          description: The page title that goes into the <title> tag
          default: ''
        - type: string
          name: description
          label: Description
          description: The page description that goes into the <meta name="description"> tag
          default: ''
        - type: list
          name: robots
          label: Robots
          description: The items that go into the <meta name="robots"> tag
          items:
            type: enum
            options:
              - all
              - index
              - follow
              - noindex
              - nofollow
              - noimageindex
              - notranslate
              - none
          default: [all]
        - type: list
          name: extra
          label: Extra
          description: >-
            Additional definition for specific meta tags such as open-graph,
            twitter, etc.
          items:
            type: object
            labelField: name
            fields:
              - type: string
                name: name
                default: ""
              - type: string
                name: value
                default: ""
              - type: string
                name: keyName
                default: name
              - type: boolean
                name: relativeUrl

Finally, add the `seo` field referencing the `stackbit_page_meta` model to all page models in the `stackbit.yaml` file. For instance:

    page:
      type: page
      label: Page
      layout: page
      fields:
        - type: string
          name: title
          label: Title
          required: true
        - type: model
          name: seo
          models:
            - stackbit_page_meta

Now, when you create a new page, the `stackbit_page_meta` model fields will be added to the front matter of your page, and you will be able to edit those fields in Stackbit Studio.

<a href="#adjusting_theme_template_files_to_stackbit_page_meta_model" class="hash-link"><span class="icon-copy"></span></a>Adjusting theme template files to `stackbit_page_meta` model
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Depending on the static site generator you are using, the implementation of this feature may differ. Please select the implementation guide for your static site generator:

-   [Next.js and Gatsby SEO implementation guide](#next_js_and_gatsby_seo_implementation)
-   [Hugo SEO implementation guide](#hugo_seo_implementation)
-   [Jekyll SEO implementation guide](#jekyll_seo_implementation)

### <a href="#next_js_and_gatsby_seo_implementation" class="hash-link"><span class="icon-copy"></span></a>Next.js and Gatsby SEO Implementation

To make your Next.js or Gatsby theme work with `stackbit_page_meta` model, you should use the following function that adds the document title, meta description, robots and any additional meta tags defined in the `extra` list field:

    function SEO(props) {
      const seo = props.page && props.page.seo;
      if (!seo) {
          return null;
      }
      return (
          <Head>
              {seo.title && <title>{ seo.title }</title>}
              {seo.description && <meta name="description" content={ seo.description } />}
              {seo.robots && <meta name="robots" content={ seo.robots.join(',') } />}
              {seo.extra && seo.extra.map((meta, index) => {
                  const keyName = meta.keyName || 'name';
                  const value = (meta.relativeUrl ? props.site.domain : '') + meta.value;
                  return <meta key={index} {...{[keyName]: meta.name}} content={value} />
              })}
          </Head>
      );
    }

The code above is for Next.js. To use it for Gatsby, replace `<Head>`, `</Head>` with `<Helmet>`, `</Helmet>`.

Next, include the `SEO` function above or under your Next.js `<Head>` element:

    <SEO page={page} site={site}/>
    <Head>
      ...
    </Head>

Or, if you are adding the SEO feature to the Gatsby project, include the function above or under the Gatsby `<Helmet>` element.

Please note that the `page` should be an object with the data of your page with the `seo` field and the `site` should be an object with the data of your site configuration with the `domain` field.

If you have successfully completed the steps above, open your project in Stackbit Studio and you should see fields in the SEO tab of the Advanced Tools panel:

![Stackbit SEO panel](/docs/images/seo-panel.png)

### <a href="#hugo_seo_implementation" class="hash-link"><span class="icon-copy"></span></a>Hugo SEO implementation

To enable SEO features in your Hugo theme, locate the `baseof.html` template file in the `layouts/_default/` directory and add the following code snippet inside the `<head>` element:

    <title>
      {{ if .Params.seo.title }}
        {{ $.Params.seo.title }}
      {{ else }}
        {{ print $.Title " | " $.Site.Title }}
      {{ end }}
    </title>
    <meta name="description" content="{{ .Params.seo.description | default "" }}" />
    {{ if .Params.seo.robots }}
      <meta name="robots" content="{{ delimit $.Params.seo.robots " ," }}">
    {{ end }}
    {{ range $meta := .Params.seo.extra }}
      {{ $key_name := $meta.keyName | default "name" }}
      {{ if $meta.relativeUrl }}
        {{ if $.Site.Params.domain }}
          {{ $domain := $.Site.Params.domain }}
          {{ $rel_url := $meta.value | relURL }}
          {{ $full_url := print $domain $rel_url }}
          <meta {{ $key_name }}="{{ $meta.name }}" content="{{ $full_url }}">
        {{ end }}
      {{ else }}
        <meta {{ $key_name }}="{{ $meta.name }}" content="{{ $meta.value }}">
      {{ end }}
    {{ end }}

Now, if you open your Hugo project in Stackbit Studio, you should see new fields under the SEO tab of the Advanced Tools panel.

### <a href="#jekyll_seo_implementation" class="hash-link"><span class="icon-copy"></span></a>Jekyll SEO implementation

To make your Jekyll theme work with the `stackbit_page_meta` model, you need to locate the partial or template file that contains the HTML `<head>` element and add the following code inside it:

    <title>
      {% if page.seo.title and page.seo.title != '' %}
        {{ page.seo.title }}
      {% else %}
        {{ page.title | append: ' | ' | append: site.title }}
      {% endif %}
    </title>
    <meta name="description" content="{{ page.seo.description | default: '' }}" />
    {% if page.seo.robots and page.seo.robots.size > 0 %}
      <meta name="robots" content="{{ page.seo.robots | join: ',' }}">
    {% endif %}
    {% for meta in page.seo.extra %}
      {% assign key_name = meta.keyName | default: 'name' %}
      {% if meta.relativeUrl %}
        {% if site.domain and site.domain != '' %}
          {% assign domain = site.domain %}
          {% assign rel_url = meta.value | relative_url %}
          {% assign full_url = domain | append: rel_url %}
          <meta {{ key_name }}="{{ meta.name }}" content="{{ full_url }}">
        {% endif %}
      {% else %}
        <meta {{ key_name }}="{{ meta.name }}" content="{{ meta.value }}">
      {% endif %}
    {% endfor %}

Now, if you open your Jekyll project in Stackbit Studio, you should see new fields under the SEO tab of the Advanced Tools panel.

Did you find this page useful?
------------------------------

Yes

No

Ready to get started?
---------------------

<a href="https://app.stackbit.com/create" class="button primary">Create your Jamstack site</a>

Jump to Section
---------------

-   [Adding domain field and stackbit\_page\_meta model to the stackbit.yaml file](#adding_domain_field_and_stackbit_page_meta_model_to_the_stackbit_yaml_file)
-   [Adjusting theme template files to stackbit\_page\_meta model](#adjusting_theme_template_files_to_stackbit_page_meta_model)
    -   [Next.js and Gatsby SEO Implementation](#next_js_and_gatsby_seo_implementation)
    -   [Hugo SEO implementation](#hugo_seo_implementation)
    -   [Jekyll SEO implementation](#jekyll_seo_implementation)

<img src="https://www.stackbit.com/images/logo_alt.svg" alt="Stackbit logo" class="home-footer-logo" width="187" height="29" />

-   [Documentation](https://docs.stackbit.com/)
-   [Pricing](https://www.stackbit.com/pricing/)
-   [Site Builder](https://app.stackbit.com/create)
-   [Blog](https://stackbit.com/blog)
-   [About](https://stackbit.com/about)
-   [Contact](https://stackbit.com/contact)

Copyright © 2021 Stackbit. Made with Stackbit

[Terms](https://stackbit.com/tos)[Privacy](https://stackbit.com/privacy)[License](https://stackbit.com/license)

<span class="screen-reader-text">GitHub</span>

<span class="screen-reader-text">Twitter</span>

<img src="https://www.facebook.com/tr?id=2703040533152181&amp;ev=PageView&amp;noscript=1" width="1" height="1" />
