This app works best with JavaScript enabled.

<a href="https://www.stackbit.com/" class="site-header-logo-wrapper"><img src="https://www.stackbit.com/images/logo_alt.svg" alt="Stackbit logo" class="site-header-logo" width="187" height="29" /></a><span class="site-header-logo-sep"></span><a href="/docs/" class="site-header-logo-link">Docs</a>

<span class="screen-reader-text">Show Menu</span><span class="site-header-nav-icon" aria-hidden="true"></span>

-   <a href="https://www.stackbit.com/docs/" class="site-header-menu-item-link">Documentation</a>
-   <a href="https://www.stackbit.com/blog/" class="site-header-menu-item-link">Blog</a>
-   <a href="https://www.stackbit.com/pricing/" class="site-header-menu-item-link">Pricing</a>
-   <a href="https://app.stackbit.com/" class="site-header-menu-item-link">Sign In</a>
-   <a href="https://app.stackbit.com/create" class="button-component button-component-theme-accent"><span>Get Started</span></a>

Navigate Docs<span class="icon-angle-right" aria-hidden="true"></span>

-   [Stackbit Docs](/docs/)
    <span class="screen-reader-text">Submenu</span><span class="search-shortcut">⌘K</span>
-   [Getting Started](/docs/getting-started/)
    <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
    -   [Create a New Site](/docs/getting-started/create-site/)
    -   [Connect Services](/docs/getting-started/connect-services/)
    -   [Live & Shareable Previews](/docs/getting-started/live-previews/)
    -   [GitHub Sync](/docs/getting-started/content-sync/)
    -   [Local Development](/docs/getting-started/edit-code/)
    -   [Drag-and-Drop Components](/docs/getting-started/drag-and-drop/)
    -   [Content Modeling](/docs/getting-started/content-modeling/)
    -   [Publish to Production](/docs/getting-started/production/)
    -   [Continue Your Journey](/docs/getting-started/next-steps/)

-   [Studio Guides](/docs/studio-guides/)
    <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
    -   [Editing Content](/docs/studio-guides/editing-content/)
    -   [Adding Pages](/docs/studio-guides/adding-pages/)
    -   [Managing SEO](/docs/studio-guides/managing-seo/)
    -   [Publishing](/docs/studio-guides/publishing/)
    -   [Modeling Content](/docs/studio-guides/modeling-content/)
    -   [Sharing and Collaborators](/docs/studio-guides/sharing/)
    -   [Project Settings](/docs/studio-guides/settings/)
    -   [Debugging and Logs](/docs/studio-guides/logs/)

-   [Developer Guides](/docs/developer-guides/)
    <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
    -   [The Basics](/docs/developer-guides/basics/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Local Development](/docs/developer-guides/basics/local-development/)
        -   [Deploy Your Site](/docs/developer-guides/basics/deploy/)
        -   [Adding a Custom Domain](/docs/developer-guides/basics/custom-domain/)
        -   [Import an Existing Site into Stackbit](/docs/developer-guides/basics/import-your-site/)

    -   [Integrations](/docs/developer-guides/integrations/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Azure](/docs/developer-guides/integrations/azure/)
        -   [DigitalOcean](/docs/developer-guides/integrations/digital-ocean/)
        -   [Netlify](/docs/developer-guides/integrations/netlify/)

    -   [Content Modeling](/docs/developer-guides/content-modeling/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Building Sites with Components](/docs/developer-guides/content-modeling/building-with-components/)
        -   [Tailwind Components](/docs/developer-guides/content-modeling/adding-tailwind-components/)
        -   [Sectioning a Theme](/docs/developer-guides/content-modeling/adding-sections-existing-theme/)

    -   [API-Based CMS](/docs/developer-guides/api-cms/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Ensure Validation on the CMS Side](/docs/developer-guides/api-cms/validation/)
        -   [Code Defensively](/docs/developer-guides/api-cms/code-defensively/)
        -   [Leverage the Existing Ecosystem](/docs/developer-guides/api-cms/leverage-ecosystem/)

    -   [Git-Based CMS](/docs/developer-guides/git-cms/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Understanding Content Relationships](/docs/developer-guides/git-cms/why-relationships-git/)
        -   [Relationships in Netlify CMS](/docs/developer-guides/git-cms/relationships-netlify-cms/)
        -   [Relationships in Forestry](/docs/developer-guides/git-cms/relationships-forestry/)

    -   [Gatsby](/docs/developer-guides/gatsby/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Adding a Favicon](/docs/developer-guides/gatsby/favicon/)
        -   [Adding Analytics](/docs/developer-guides/gatsby/analytics/)
        -   [Adding a Sitemap](/docs/developer-guides/gatsby/sitemap/)
        -   [Adding Site Search](/docs/developer-guides/gatsby/site-search/)

-   [Reference](/docs/reference/)
    <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
    -   [stackbit.yaml](/docs/reference/stackbit-yaml/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Properties](/docs/reference/stackbit-yaml/properties/)
        -   [Import](/docs/reference/stackbit-yaml/import/)
        -   [Assets](/docs/reference/stackbit-yaml/assets/)
        -   [Logic Fields](/docs/reference/stackbit-yaml/logic-fields/)
        -   [Models](/docs/reference/stackbit-yaml/models/)
        -   [Page models](/docs/reference/stackbit-yaml/page-models/)
        -   [Data models](/docs/reference/stackbit-yaml/data-models/)
        -   [Object models](/docs/reference/stackbit-yaml/object-models/)
        -   [Model Fields](/docs/reference/stackbit-yaml/fields/)
        -   [Examples](/docs/reference/stackbit-yaml/examples/)

    -   [Stackbit CLI](/docs/reference/stackbit-cli/)
    -   [Create Button](/docs/reference/create-button/)
    -   [Example Projects](/docs/reference/examples/)
        <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
        -   [Simple Next.js Example](/docs/reference/examples/simple-nextjs/)

-   [Conceptual Guides](/docs/conceptual-guides/)
    <span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span>
    -   [How Stackbit Works](/docs/conceptual-guides/how-stackbit-works/)
    -   [Site Preview](/docs/conceptual-guides/site-preview/)
    -   [Content Model](/docs/conceptual-guides/content-model/)
    -   [API-based vs. Git-based CMS](/docs/conceptual-guides/api-versus-git-based-cms/)
    -   [File-Based CMS](/docs/conceptual-guides/file-based-cms/)
    -   [API-based CMS](/docs/conceptual-guides/api-based-cms/)
    -   [Site Creation](/docs/conceptual-guides/site-creation/)
    -   [Separating Content from Presentation](/docs/conceptual-guides/content-presentation-separation/)
    -   [Content Slug Best Practices](/docs/conceptual-guides/best-practices-slug/)

![Stackbit](/docs/images/stackbit-crane-sm.png)

Make Fast, Versatile Jamstack Themes with Page Builder Components
=================================================================

When creating a theme for any website, one may typically take into account the importing of existing content, creation of new pages, and ongoing editing. These classic content updates can be done by developers, editors, customers, and other stakeholders responsible for the finished product. To them, the limits of any given page are defined first and foremost by the flexibility of your theme: What does your content model make available to them and what level of flexibility lies therein.

Sometimes, the day-to-day realities of your clients, your marketing team, or your business yield unforeseen requirements like landing pages, lead capture forms, pricing matrices, and other types of content. Unlike most Jamstack themes, classic page builders allow for this kind of flexibility and creativity, especially for ad-hoc projects or ones on a tight deadline.

In this tutorial, we’ll learn how to incorporate drag-and-drop-ready content models that will empower your clients and editors to spin-up spontaneous sections and pages using your Jamstack theme, with the versatility of a visual page builder.

If you've read about the virtues of content management systems -- particularly headless API-based CMS that promise easy reuse of content across multiple media -- you've probably seen a million tutorials about modeling a movie database, an e-commerce store, or a [conference schedule](https://www.stackbit.com/blog/content-modeling-headless/). These are *data-driven* content models where you can use domain knowledge from the real world to imagine what properties you'll need to store about each record without overthinking the fact that the data might eventually end up on a web page.

But we can't entirely ignore the world's expectations of how web pages are "*supposed to work*" these days, can we? Page builders like Squarespace and Wix let content authors drag visual components onto and off of a screen, typing content straight into them. With Stackbit, you can provide this experience on the [Jamstack](https://jamstack.org/what-is-jamstack/). You'll just need to model a few extra content types -- ones whose properties model the way they should *look*, rather than what they represent in the real world.

We'll let you in on a little secret: most web pages are 1-dimensional (lines), not 2-dimensional (flat surfaces). You look at them on screens, so they feel 2-D, but no one likes horizontal scrolling, so for all practical purposes, they're 1-D.

Start imagining web sites as vertical lists of user-interface components stacked on top of each other. Open up a modern site authoring tool. Have you noticed that when you try to drag a new component onto a page, the default behavior is to allow it to be dragged above or below another component? Sure, some full-width component types offer the option to split them into 2 or 3 columns, but that's just a special case of nested lists, isn't it?

<span class="gatsby-resp-image-wrapper" style="
                                position: relative;
                                display: block;
                                margin-left: auto;
                                margin-right: auto;
                                max-width: 700px;
                              "><span class="gatsby-resp-image-background-image" style="
                                  padding-bottom: 64%;
                                  position: relative;
                                  bottom: 0;
                                  left: 0;
                                  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABi0lEQVQoz4WS+2rdMAyH+/7P1CcY7WC07I+1Oz0naa5OnDg3x7L008hljMLWmQ9jZH2yMLoLEVlhrknej55YVTUwWJQYUUACURSO65EJ4llIJMqZcOc8m2W6miJpaydrYImylTA0Jd5l62BlvM1D7sdV4sKcD1RMq+opI134OauesipdaIlbVVVtaSn9bGiogrtOrqHBenptwpdkfeuXUx5WfUnXx+fi4Sn/kfiVNAqiaDrLZZTLyD8nvr+Gr3V8D5x6zoOYIKc8rchS834r3l7T7FaOC8YAH5EtaEirgDrAshpCFbaIIa0DTjmwlqa8pZesSI0tj2cBNSs60gMbtAvaH2fark4Zqrz9nhwINIoKtN5l+5Gj1h9ZPy5sMgCtPSzthB06aQn157JATYBjPRhEh99nx9vVpy+rFiMOzIxvWfxesplRjigG1NN/227QdWqtVgaNRWu1NLCddlZN+2+ZeGu77dE52H1/yflSiu1h90jrttb+Ih8l4z66YYcF7Szdso30ESE5E34BLznxJspNwFEAAAAASUVORK5CYII=');
                                  background-size: cover;
                                  display: block;
                                "></span><img src="/docs/static/00e73afe3ac8b0660f021e028dcaf73e/8c557/site-builder.png" title="Illustration of adding a section in a web site builder" alt="Illustration of adding a section in a web site builder" class="gatsby-resp-image-image" sizes="(max-width: 700px) 100vw, 700px" srcset="
                                  /docs/static/00e73afe3ac8b0660f021e028dcaf73e/4edbd/site-builder.png  175w,
                                  /docs/static/00e73afe3ac8b0660f021e028dcaf73e/13ae7/site-builder.png  350w,
                                  /docs/static/00e73afe3ac8b0660f021e028dcaf73e/8c557/site-builder.png  700w,
                                  /docs/static/00e73afe3ac8b0660f021e028dcaf73e/e996b/site-builder.png 1050w,
                                  /docs/static/00e73afe3ac8b0660f021e028dcaf73e/2cefc/site-builder.png 1400w,
                                  /docs/static/00e73afe3ac8b0660f021e028dcaf73e/2dab4/site-builder.png 1461w
                                " /></span>

There's a structure to components in these tools, too. You can't simply add a 2nd photo to a testimonial in a "testimonials" section because you're indecisive about which photo best represents the quote. Page builders have a predefined set of properties that go with each component type. Some component types are very flexible, nesting lists inside lists under the covers, but at some point, the flexibility stops.

<a href="#build_your_own_theme" class="hash-link"><span class="icon-copy"></span></a>Build your own theme
---------------------------------------------------------------------------------------------------------

Let's model and build a simple theme of our own that includes a flexible page builder. We'll make it visually editable with Stackbit Studio. We'll use Git file-based data storage, but we'll touch on a few examples of API-based data storage as well.

Our theme will have 5 components across 3 levels of nesting:

<span class="gatsby-resp-image-wrapper" style="
                                position: relative;
                                display: block;
                                margin-left: auto;
                                margin-right: auto;
                                max-width: 700px;
                              "><span class="gatsby-resp-image-background-image" style="
                                  padding-bottom: 59.42857142857143%;
                                  position: relative;
                                  bottom: 0;
                                  left: 0;
                                  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwElEQVQoz2VS2XLjIBD0//+e19mNo7Wi6LAOJBAWgoE5tpDjvGxXFy/Q0109nDzgoPQwLdo6FhHJx2MexrkLAOFAhG+EF/Z9d86ddo9zM9bvt/5We7MlEiTxzm37BhEhooeozWa03azDF1JKMcZTQCmVvdT3c9U22iEJJErMyPIctEfeIg6Rrom3n2wHToCiXCy6e9H1ag+JmI9LymKOxAHJMA/EX0gWCY+JzzcnZjEQb2v3Nvz9o0oFW0TOyRNVoK6+v8HwFYcOe5PsA32NQ5V6pJzgRCyQxGDq9qUYmxFsQBSWgFTDXIap9FMFY419n3SN/QWvZeroKWaWdefybn9/9ueiHR4+EWdxYmVIW1aGZ8PG8qhpMqRXWVZJyEdskYfnsg1Fad/eldI5CLK4wNMsdpV5zrRGplnGmY2WRT/Fh3NEXjYZl/TZrKOWEPNUIGqCue1z5ZcmLF1cFLgVYg+2jxrpcCaWSKQstWMoqnnUvEMuzCUsYSygu2FbYltzM9DS8nDmS0HVd2Eissb4oZtf3celL2ZwCfMmiMVjyqSYiXFDsOg3BI/pMD7ETKIhtFZ9Tve8qmeVP1+BX/wP/wBG8LHPZq854wAAAABJRU5ErkJggg==');
                                  background-size: cover;
                                  display: block;
                                "></span><img src="/docs/static/ae3060b35cc63cf4491c23595594a3af/8c557/page-structure.png" title="Illustration of the page structure" alt="Illustration of the page structure" class="gatsby-resp-image-image" sizes="(max-width: 700px) 100vw, 700px" srcset="
                                  /docs/static/ae3060b35cc63cf4491c23595594a3af/4edbd/page-structure.png  175w,
                                  /docs/static/ae3060b35cc63cf4491c23595594a3af/13ae7/page-structure.png  350w,
                                  /docs/static/ae3060b35cc63cf4491c23595594a3af/8c557/page-structure.png  700w,
                                  /docs/static/ae3060b35cc63cf4491c23595594a3af/e996b/page-structure.png 1050w,
                                  /docs/static/ae3060b35cc63cf4491c23595594a3af/2cefc/page-structure.png 1400w,
                                  /docs/static/ae3060b35cc63cf4491c23595594a3af/c655d/page-structure.png 1586w
                                " /></span>

We'll build the theme in 3 phases, corresponding to these levels.

In the static site generator ("SSG"), level 1 holds everything else together. Every `flexible_page` record needs to be transformed into a full `<html>...</html>` web page with its own URL. In phase 1, we'll build the `flexible_page` content type and template, without worrying about the details within. The remaining content types' templates only output *fragments* of HTML used within these pages. We'll flesh them out, one level at a time, in phases 2 and 3.

<span class="gatsby-resp-image-wrapper" style="
                                position: relative;
                                display: block;
                                margin-left: auto;
                                margin-right: auto;
                                max-width: 700px;
                              "><span class="gatsby-resp-image-background-image" style="
                                  padding-bottom: 33.142857142857146%;
                                  position: relative;
                                  bottom: 0;
                                  left: 0;
                                  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLUlEQVQY022L226cMBRF+f9/y0MVZcKEIQNjjq/YBhtfsI1dtVKlVura63GvrrV21Rp90tgeWzhTzqXU1nIpuzh2fngXUymt/pqzUYGx2p0pX7V2JRcMlCxs7GdAzIccY1Zyg4XgmT4fizUxhBz8CUAZiO+vF6cq/L51hjoYpuntfekfcsZ8RBqExOv84wb9KCZYJyxmcmiHbiN67+lzUYjyJxi+dW71O9croppIr4/xc0HfLOyOL0xTZZRlSI43CCZIsgoQm9h2acdPWOnWtdquP+ZU6GvfuF+V+XjCfSb3mQwzeWEZfXogOiDaT3hAdJiY3nzX/qJeNbl0xZLO7H0M4XQ+2iM4E7LPwFX/IkKZL0QRk2fM/8T/pV7VMudVkPoYF7YbP2EutS35+gnVTYlLNtlumwAAAABJRU5ErkJggg==');
                                  background-size: cover;
                                  display: block;
                                "></span><img src="/docs/static/6272f953ecf2da6bbda3b09af5db3d34/8c557/all-phases.png" title="Doodle of the project phases" alt="Doodle of the project phases" class="gatsby-resp-image-image" sizes="(max-width: 700px) 100vw, 700px" srcset="
                                  /docs/static/6272f953ecf2da6bbda3b09af5db3d34/4edbd/all-phases.png  175w,
                                  /docs/static/6272f953ecf2da6bbda3b09af5db3d34/13ae7/all-phases.png  350w,
                                  /docs/static/6272f953ecf2da6bbda3b09af5db3d34/8c557/all-phases.png  700w,
                                  /docs/static/6272f953ecf2da6bbda3b09af5db3d34/e996b/all-phases.png 1050w,
                                  /docs/static/6272f953ecf2da6bbda3b09af5db3d34/2cefc/all-phases.png 1400w,
                                  /docs/static/6272f953ecf2da6bbda3b09af5db3d34/2bcd1/all-phases.png 1561w
                                " /></span>

<a href="#phase_1" class="hash-link"><span class="icon-copy"></span></a>Phase 1
-------------------------------------------------------------------------------

### <a href="#cms_models" class="hash-link"><span class="icon-copy"></span></a>CMS models

In the data model for this project, any given `flexible_page` has the following 3 fields:

1.  `title` - a plaintext string
2.  `featured_image_url` - a plaintext string
3.  `sections` - a list

Right now, we'll make `sections` a list of plaintext strings. Later, we'll update it to be a list of `section_cta` and `section_cards` components.

Using Git-based data storage, we don't strictly need a content management system *("CMS")*, but using one is a great way to help you think in data models while designing a theme.

There are many ways to configure a schema to make a CMS aware of your data model. If you'd like, take a look at examples for [Stackbit](https://github.com/stackbit/components-tutorial/blob/main/stackbit.yaml), [Netlify CMS](https://github.com/stackbit/components-tutorial/blob/main/example-cms-schemas/netlifycms/phase1/PARTIAL-config.yml), and [Sanity.io](https://github.com/stackbit/components-tutorial/blob/main/example-cms-schemas/sanity/phase1/flexible_page.js).

*(Stackbit can infer your data model from a Stackbit schema, a headless CMS schema, or from your existing data, so you may not need to write an explicit schema at all.)*

### <a href="#data_entry" class="hash-link"><span class="icon-copy"></span></a>Data entry

To begin, let's add `index.md` to our filesystem by hand:

    ---
    title: Home
    featured_image_url: /assets/images/header_house.svg
    sections:
      - section 1
      - section 2
    ---

Note that `index.md` doesn't have a body. It's 100% structured data, written in the YAML punctuation standard. Sectioning for a page builder relies on lists and objects, which YAML is optimized to store. Our data sits at the top of the file, a.k.a. the file's "front matter."

Don't worry about losing Markdown support by leaving the file body empty -- you can still boldface text that you store in front matter. YAML supports multi-line text values, so Markdown-inside-YAML isn't at all unusual.

### <a href="#ssg_templates" class="hash-link"><span class="icon-copy"></span></a>SSG templates

Now we're at the exciting part: transforming our raw data into HTML.

We'll look at an example using Jekyll because its Liquid templating language is simple to show, but these concepts are the same in all popular SSGs like Hugo, Gatsby, NextJS, and Eleventy, just to name a few.

Ultimately, [`flexible_page.html`](https://github.com/stackbit/components-tutorial/blob/main/src/_layouts/flexible_page.html) is responsible for rendering a complete `<html>`-to-`</html>` web page for each flexible page record in our dataset. However, it delegates a lot of the sitewide code to [`base.html`](https://github.com/stackbit/components-tutorial/blob/main/src/_layouts/base.html), which in turn delegates the navigation menu to [`nav.html`](https://github.com/stackbit/components-tutorial/blob/main/src/_includes/nav.html).

<span class="gatsby-resp-image-wrapper" style="
                                position: relative;
                                display: block;
                                margin-left: auto;
                                margin-right: auto;
                                max-width: 422px;
                              "><span class="gatsby-resp-image-background-image" style="
                                  padding-bottom: 50.28571428571429%;
                                  position: relative;
                                  bottom: 0;
                                  left: 0;
                                  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcUlEQVQoz42RfWujQBDG/f5fp9BCaQuN1oRDicclRpP6ksSo17Vxo7s7u+66W9IcR8PdH/0xDMzA88wwYyGEyrIs9vu6qtbrNaNUcP72+wxC6Hg8FkWBEDLGaK3NNVZd147jTGz752JhOw4DOJ1O7nTq+77necvl0nXdOIr/LwaArusIxqeiIE0j+15g/F6WpO8ppcBYz9ggpflU/7W4ZOuPiVIiSXieQ5aJ3W4oy0tbK6UJGQFGAPMP1tC2KIpYVbVZJhEammZoGjgcSJ6T7XaklIQhXa0gTQVCJE37LCNZhpOEbLcWr2vv9nb++Di7uwtt27+/d29uVo4TPD3tZzONsaJ0ZAxeX/s4DieT4OEhenF+PT+XQWBpKQ3n55BSc64oHbrOABjOtRDXa+r60AEmrCWiY0Ypy3yPy4V2lQxiHqbDPGJSaet8w+vQX8svcKEXUe0HiTffTH9sjnj47uTzQ0azK9pVfNikb0neAB8/AJW4MnGtZcQjAAAAAElFTkSuQmCC');
                                  background-size: cover;
                                  display: block;
                                "></span><img src="/docs/static/4293acc3493d73493d128fe6c72048cd/fa5c1/level1-ssg.png" title="Doodle of our level-1 SSG dependency graph" alt="Doodle of our level-1 SSG dependency graph" class="gatsby-resp-image-image" sizes="(max-width: 422px) 100vw, 422px" srcset="
                                  /docs/static/4293acc3493d73493d128fe6c72048cd/4edbd/level1-ssg.png 175w,
                                  /docs/static/4293acc3493d73493d128fe6c72048cd/13ae7/level1-ssg.png 350w,
                                  /docs/static/4293acc3493d73493d128fe6c72048cd/fa5c1/level1-ssg.png 422w
                                " /></span>

Check out [`flexible_page.html`](https://github.com/stackbit/components-tutorial/blob/main/src/_layouts/flexible_page.html), the backbone of building each web page. Amazingly, it only has 14 lines of code. By the time we're done adding all of our components? 15 lines of code. Nice and easy to maintain!

Are you ready to see it? [View the full codebase on GitHub](https://github.com/stackbit/components-tutorial) and [deploy your own copy with Stackbit](https://app.stackbit.com/create?theme=https://github.com/stackbit/components-tutorial). Stackbit will create a new GitHub repository and a new Netlify site for you. Then you will be redirected to Stackbit Studio where you will be able to edit your site.

[![Create with Stackbit](https://assets.stackbit.com/badge/create-with-stackbit.svg)](https://app.stackbit.com/create?theme=https://github.com/stackbit/components-tutorial)

[![Animated GIF of Stackbit Studio screen capture editing a page built from phase 1 of the tutorial](https://stackbit-docs-files.s3.amazonaws.com/components-phase1-drag-section.gif)](https://stackbit-docs-files.s3.amazonaws.com/components-phase1-drag-section.mp4)

In Stackbit Studio, rearranging **section 1** and **section 2** is drag-and-drop simple.

Adding a second page is as simple as clicking **Add Page** toward the top of the left-hand navigation panel, clicking **Create Page**, choosing the `Flexible Page` **template**, and entering a **New page path** like `contact` or `about`.

![Fireworks](/docs/a0c40dec7215b3d0a624a2b5f3a98408/fireworks-transparent.svg)

<a href="#phase_2" class="hash-link"><span class="icon-copy"></span></a>Phase 2
-------------------------------------------------------------------------------

Now let's build out our two section types: `section_cta` and `section_cards`.

First clone the GitHub repostiory Stackbit created for you. You can find the link to your repostiory in the settings dialog. Then, checkout the `preview` branch. Stackbit Studio uses this branch to show you the site preview.

    git clone <created-repo-url>
    cd <repo-folder>
    git fetch
    git checkout preview

### <a href="#cms_models" class="hash-link"><span class="icon-copy"></span></a>CMS models

In the data model for this project, a `section_cta` has the following 4 fields:

1.  `type` - a plaintext string; value always `section_cta`
2.  `title` - a plaintext string
3.  `subtitle` - a plaintext string
4.  `actions` - a list

A `section_cards` schema should define the following 3 fields:

1.  `type` - a plaintext string; value always `section_cards`
2.  `title` - a plaintext string
3.  `cards` - a list

Right now, we'll make `actions` and `cards` lists of plaintext strings. Later, we'll update them to be lists of `action` and `card` components, respectively.

A CMS schema configuration file might look like one of these examples for [Stackbit](https://github.com/stackbit/components-tutorial/blob/main/phase2/stackbit.yaml), [Netlify CMS](https://github.com/stackbit/components-tutorial/blob/main/example-cms-schemas/netlifycms/phase2/PARTIAL-config.yml), or [Sanity.io](https://github.com/stackbit/components-tutorial/tree/main/example-cms-schemas/sanity/phase2). Note that in phase 2, the `sections` field of a `flexible_page` is no longer a list of strings. Instead, it is a list of `section_cta` and `section_cards` objects.

### <a href="#data_entry" class="hash-link"><span class="icon-copy"></span></a>Data entry

Hand-edit `index.md` and any other files you've created, clearing out the contents of `sections`. We'll add the sections later in Stackbit.

    ---
    title: Home
    featured_image_url: /assets/images/header_house.svg
    sections: []
    ---

### <a href="#ssg_templates" class="hash-link"><span class="icon-copy"></span></a>SSG templates

Now that we've added two new component data types to our content model, we need to add two new Jekyll templates to render them into HTML: [`section_cta.html`](https://github.com/stackbit/components-tutorial/blob/main/phase2/src/_includes/section_cta.html) and [`section_cards.html`](https://github.com/stackbit/components-tutorial/blob/main/phase2/src/_includes/section_cards.html).

<span class="gatsby-resp-image-wrapper" style="
                                position: relative;
                                display: block;
                                margin-left: auto;
                                margin-right: auto;
                                max-width: 422px;
                              "><span class="gatsby-resp-image-background-image" style="
                                  padding-bottom: 65.14285714285714%;
                                  position: relative;
                                  bottom: 0;
                                  left: 0;
                                  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACJklEQVQoz22S23KbMBBA+f//yUNnkkybNCY2biDcjHAwFwljZGxsgUASIDKYTKeddl+kWemsdFZSMMZRFAVBgBAyTbOhtKU0jqaAEGZZ5vs+QmgcRynl+HcoeZ4vFouFqtqu+7peM84JIcvVyjJNwzAAAJqmBUHwf1gIwbuua1sKIcNYFAU/Hqs853xKd13H+36YsX/hr3EYRBTxJOFJItJUZNmcll3XFUVXlj0hXzulHIdhniisKCJNOwcBchyapnW6JxBew/DouqXnDVVFAaAANAA0EJ5cBzvOyd0cLKsEQOHHo/XwYD096Y+PQFX1+3v17g6oqv3886C/yaoaOJdCsDimYeSpqvv8I9CW/lLNXVeZ7nCT4V3ftGxqS9/Pyapl3TAt/XbdZy0p2fXc1lfx5TzT6EKoEHIcBylvTmPNRXoh/c1Q3qrATJig2QRMd2vGB2WueqZt2bD5Pf7sKev6nNT9jWyY1C20WLkvS+dZ3ZwuYjr5WFE3ww0XmNSY1A0XpGWkZRXjFWM142Z6uDTtOI5FUUN0OuQkxzUXwwSHJclpG5ZXY4/f0tzD5/BM9DQH+GTnp31Fo5LAa80GyaTsx7GXUtxcFFzVqmVrpq05GydMfnlg7fmGv/3+bq+2u4VuqJZt+B/vH7u1t/328rre+C/vtr6LJphy4YSRE0R+gkCC3DjxYuTFiZugEBdvHtiiNEBpuN/H2cGHaJdmfgzzy/RnPgEJ7M7aCLyzLQAAAABJRU5ErkJggg==');
                                  background-size: cover;
                                  display: block;
                                "></span><img src="/docs/static/47dc440096499a55795bf49316b87a7e/fa5c1/level2-ssg.png" title="Doodle of our level-2 SSG dependency graph" alt="Doodle of our level-2 SSG dependency graph" class="gatsby-resp-image-image" sizes="(max-width: 422px) 100vw, 422px" srcset="
                                  /docs/static/47dc440096499a55795bf49316b87a7e/4edbd/level2-ssg.png 175w,
                                  /docs/static/47dc440096499a55795bf49316b87a7e/13ae7/level2-ssg.png 350w,
                                  /docs/static/47dc440096499a55795bf49316b87a7e/fa5c1/level2-ssg.png 422w
                                " /></span>

We'll make [`flexible_page.html`](https://github.com/stackbit/components-tutorial/blob/main/phase2/src/_layouts/flexible_page.html) call [`section_cta.html`](https://github.com/stackbit/components-tutorial/blob/main/phase2/src/_includes/section_cta.html) with an `include` command, similarly to the way [`base.html`](https://github.com/stackbit/components-tutorial/blob/main/src/_layouts/base.html) called [`nav.html`](https://github.com/stackbit/components-tutorial/blob/main/src/_includes/nav.html).

There is one difference, however: `nav.html` relied upon two properties, `sites.pages` and `page`, that were **implicitly** passed to it by `base.html`. By contrast, we'll code both `section_cta.html` and `section_cards.html` to avoid using any data that the `include` call from `flexible_page.html` doesn't **explicitly** pass as a **parameter** named `section`.

This might seem like overkill when Jekyll would be more than happy to let component templates peek at the data held by `flexible_page.html`. Nevertheless, it's good idea to design SSG components as a "black box" to their calling contexts.

As a rule of thumb, if a component renders something that goes on every page, and if it only uses data that is inherently global to the workings of the SSG, like `nav.html`, it might be safe to let it rely upon its calling context’s data. Otherwise, pass the component the data it needs through parameters.

Just like in conventional programming, the principle of encapsulation lets you build SSG templates that are easy to modify and reuse.

For example, maybe you add `employee` to your content model as a data-driven content type. Then you add `section_staff` as an appearance-driven content type (fields: a `type` string of `section_staff`, a `title` string, and an `employees` list), which you declare to be a valid third type for `sections` within `flexible_page`. If a **staff directory** visual component can look exactly like any other **card gallery**, you might be able to let a `section_staff.html` template hand off HTML rendering to `card.html` or even to `section_cards.html`. (You'd still want a `section_staff.html` component for minor data-crunching activities, like making `employee` data look more like `card` data before being passed as a parameter.)

<span class="gatsby-resp-image-wrapper" style="
                                position: relative;
                                display: block;
                                margin-left: auto;
                                margin-right: auto;
                                max-width: 700px;
                              "><span class="gatsby-resp-image-background-image" style="
                                  padding-bottom: 32%;
                                  position: relative;
                                  bottom: 0;
                                  left: 0;
                                  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABD0lEQVQY0x3QW3KDIBQAUPe/vE5/YmNiRnmKF7jIG6TTLuD8nMmio4yfoAkXzofa71RqSqWUOsaIKW87AdAbodpivUcuNeWSS22tTc4Y8Vzkc9FcuEMBYd5iqS2mPMYI3rP5R8w/x7Y7dQJhCLq0Fv/9FENQ6rSg0TqHDhTsxIjjqq233FNMoMCCdhbRXVoBoXqnGFOutU3Wh5mKtzwfVKxSETALPZaN81PX3HxImwJpkYJexSEMrgd8PT9vygWY6Qpx3tnCpATz/dmfTChjNSJYvO87l/JiYiZcgnns7M2lMJacBi/vY5pa60TBh0sX4kK5vUJr/a+j9zHG3e/D4Ity9HHlUuPVW6+l5lJ7679S6lE/TouregAAAABJRU5ErkJggg==');
                                  background-size: cover;
                                  display: block;
                                "></span><img src="/docs/static/aa36a06e4238a3486ed44789e90c8460/8c557/reuse-cards.png" title="Illustrations of 2 possible SSG component structures that involve parameterized reuse" alt="Illustrations of 2 possible SSG component structures that involve parameterized reuse" class="gatsby-resp-image-image" sizes="(max-width: 700px) 100vw, 700px" srcset="
                                  /docs/static/aa36a06e4238a3486ed44789e90c8460/4edbd/reuse-cards.png  175w,
                                  /docs/static/aa36a06e4238a3486ed44789e90c8460/13ae7/reuse-cards.png  350w,
                                  /docs/static/aa36a06e4238a3486ed44789e90c8460/8c557/reuse-cards.png  700w,
                                  /docs/static/aa36a06e4238a3486ed44789e90c8460/e996b/reuse-cards.png 1050w,
                                  /docs/static/aa36a06e4238a3486ed44789e90c8460/f2364/reuse-cards.png 1389w
                                " /></span>

But that’s getting a little ahead of ourselves. To implement phase 2 of SSG templating, we'll edit the end of [`flexible_page.html`](https://github.com/stackbit/components-tutorial/blob/main/phase2/src/_layouts/flexible_page.html) in the for loop. Delete this line of code:

    <section class="phase1">{{ current_section }}</section>

Replace it with this:

    {%- capture section_type -%}{{ current_section.type }}.html{%- endcapture -%}
    {%- include {{ section_type }} section=current_section -%}

Then create [`section_cta.html`](https://github.com/stackbit/components-tutorial/blob/main/phase2/src/_includes/section_cta.html) and create [`section_cards.html`](https://github.com/stackbit/components-tutorial/blob/main/phase2/src/_includes/section_cards.html).

If you don't want to change the files yourself, you can run the following command from the root of your project to copy the needed code from `phase2` folder:

    cp -Rf phase2/ .

If you did everything correctly, after running the `git status` command, you should see the followig output:

    On branch preview
    Your branch is up to date with 'origin/preview'.

    Changes not staged for commit:
      (use "git add <file>..." to update what will be committed)
      (use "git restore <file>..." to discard changes in working directory)
            modified:   src/_layouts/flexible_page.html
            modified:   src/flexible_pages/contact.md
            modified:   src/flexible_pages/index.md
            modified:   stackbit.yaml

    Untracked files:
      (use "git add <file>..." to include in what will be committed)
            src/_includes/section_cards.html
            src/_includes/section_cta.html

    no changes added to commit (use "git add" and/or "git commit -a")

Commit your changes and push them to the remote `preview` branch:

    git add .
    git commit -m "tutorial phase 2"
    git push

Go back to Stackbit Studio, you should now be able to add new Actions to the "Call to Action" section and new cards to the "Card Gallery" section. To add a section in Stackbit Studio, beneath **Sections** within the page you'd like to edit, in the left-hand navigation panel, click **Add Content**. Under **Actions** or **Cards** *(depending upon the type of section you chose)*, click **Add Content** again to add buttons or panels within your new sections. You can fill in the rest of the details in the left-hand navigation panel or directly in the page preview.

[![Animated GIF of Stackbit Studio screen capture editing a page built from phase 2 of the tutorial](https://stackbit-docs-files.s3.amazonaws.com/components-phase2-add-sections.gif)](https://stackbit-docs-files.s3.amazonaws.com/components-phase2-add-sections.mp4)

<a href="#phase_3" class="hash-link"><span class="icon-copy"></span></a>Phase 3
-------------------------------------------------------------------------------

Finally, we'll build out our final section types: `action` and `card`.

### <a href="#cms_models" class="hash-link"><span class="icon-copy"></span></a>CMS models

In the data model for this project, an `action` has the following 3 fields:

1.  `type` - a plaintext string; value always `action`
2.  `text` - a plaintext string
3.  `url` - a plaintext string

A `card` schema should define the following 4 fields:

1.  `type` - a plaintext string; value always `card`
2.  `image` - a plaintext string
3.  `title` - a plaintext string
4.  `excerpt` - a plaintext string

A CMS schema configuration file might look like one of these examples for [Stackbit](https://github.com/stackbit/components-tutorial/blob/main/phase3/stackbit.yaml), [Netlify CMS](https://github.com/stackbit/components-tutorial/blob/main/example-cms-schemas/netlifycms/phase3/PARTIAL-config.yml), or [Sanity.io](https://github.com/stackbit/components-tutorial/tree/main/example-cms-schemas/sanity/phase3). In phase 3, the `actions` and `cards` fields of `section_cta` and `section_cards` are no longer list of strings, instead becoming lists of `action` or `card` objects, as appropriate.

### <a href="#data_entry" class="hash-link"><span class="icon-copy"></span></a>Data entry

You could hand-clear any data found in `actions` or `cards` areas of your existing front matter files, but if you'd like, you can also replace all of your markdown files with [`index.md` and `contact.md` as seen here](https://github.com/stackbit/components-tutorial/tree/main/phase3/src/flexible_pages).

### <a href="#ssg_templates" class="hash-link"><span class="icon-copy"></span></a>SSG templates

We're ready to add our final two templates to Jekyll: [`action.html`](https://github.com/stackbit/components-tutorial/blob/main/phase3/src/_includes/action.html) and [`card.html`](https://github.com/stackbit/components-tutorial/blob/main/phase3/src/_includes/card.html).

<span class="gatsby-resp-image-wrapper" style="
                                position: relative;
                                display: block;
                                margin-left: auto;
                                margin-right: auto;
                                max-width: 422px;
                              "><span class="gatsby-resp-image-background-image" style="
                                  padding-bottom: 90.28571428571429%;
                                  position: relative;
                                  bottom: 0;
                                  left: 0;
                                  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACxklEQVQ4y21T13LbOBTV//9OHpLJ7NqTqHhWoihSFnsBSVHsEgtINBbsyHRsZRI8AHMvcG4592CR5fklDIMgSOJY1zTUdQTjOI6jKErTtCgK3/fTNOWcT9PEf1+LJElWq9XP5VI+nZabDcK4ruvNy4soioIgKIrystkYhvF3MMEYti2qaxiGXVGwuqZleYvjrm3nKlqE+r7nb+iPEPO+eA8yjtRxiOdhAGgQsCia3dMwTE0zIjQi9JnxVwkLWpapqqIourouy/O+KFie48sFAgABGLuuVdVO05DjkDSFjtO4LnTd0rYhAAuSpvuvXw9PT/99+6atV/vv39dfvmirlfT8fNlup7oeEBoxxo7Tmpa6XEpP/+ib9Wn5M5LlxTQMnFLOKKWsbeCEEIOQE8IJ7dp2/J2k5AJR1XZlSxrMx+He83wfw65j/YfJOW8oi2v4yFCQ9EeTaIAddMSGaTF3X2Nybbv50eNIOkpz2M02ptNJT4SDLYjWy9a6VeyeuURYizPC+grhCiHWDx2lHWWYMdr3DSZKnEFCOefnS2lYFwdkwL9iMt7BoGziFgUVPFxSMUytovLKRo4zKy+V7JZ12LnWYd1OnH9QMB+Lou32unU0rYNp62Ek265kuQrwlydt73iCqu00QwG+4p8lBzzv9rLt7jTj6J3v4AYTQTN2iiqZtmw7omHJli0a1u4eK14fJMm0T7aruZ4O/INuKi6QTeucXx8U9imee0UNoaQfZk+JyfCHqt8V9uaekhqqUapEaVpDJ7/KYcyG4X0810qLM1DcxCCys2tY1pixX+A3dNq0/5re9hz/cAK/aoKq+WDlhkhQwW0QrUC4cgIlzj4Jm48SYcn1ZMOSTPtgWltVT2rIOUeMCTYQFO2HKK+PrwrwHv/mO7hGWLSco+2+2q7m+a+uVyHMOWfDKDmeBnwVeArwvSx/lOD/1/Hnr57XuY4AAAAASUVORK5CYII=');
                                  background-size: cover;
                                  display: block;
                                "></span><img src="/docs/static/00caa765e1585a37f1468f2805ce9706/fa5c1/level3-ssg.png" title="Doodle of our level-3 SSG dependency graph" alt="Doodle of our level-3 SSG dependency graph" class="gatsby-resp-image-image" sizes="(max-width: 422px) 100vw, 422px" srcset="
                                  /docs/static/00caa765e1585a37f1468f2805ce9706/4edbd/level3-ssg.png 175w,
                                  /docs/static/00caa765e1585a37f1468f2805ce9706/13ae7/level3-ssg.png 350w,
                                  /docs/static/00caa765e1585a37f1468f2805ce9706/fa5c1/level3-ssg.png 422w
                                " /></span>

First, edit the end of [`section_cta.html`](https://github.com/stackbit/components-tutorial/blob/main/phase3/src/_includes/section_cta.html), in the for loop. Delete this line of code:

    <div class="action">{{ current_action }}</div>

Replace it with this:

    {%- include action.html action=current_action -%}

Next, edit the end of [`section_cards.html`](https://github.com/stackbit/components-tutorial/blob/main/phase3/src/_includes/section_cards.html), in the for loop. Delete this line of code:

    <div class="grdCell -4of12"><div class="card">{{ current_card }}</div></div>

Replace it with this:

    {%- include card.html card=current_card -%}

Then create [`action.html`](https://github.com/stackbit/components-tutorial/blob/main/phase3/src/_includes/action.html) and create [`card.html`](https://github.com/stackbit/components-tutorial/blob/main/phase3/src/_includes/card.html).

If you don't want to change the files yourself, you can run the following command from the root of your project to copy the needed code from `phase3` folder:

    cp -Rf phase3/ .

If you did everything correctly, after running the `git status` command, you should see the followig output:

    On branch preview
    Your branch is up to date with 'origin/preview'.

    Changes not staged for commit:
      (use "git add <file>..." to update what will be committed)
      (use "git restore <file>..." to discard changes in working directory)
            modified:   src/_includes/section_cards.html
            modified:   src/_includes/section_cta.html
            modified:   src/flexible_pages/contact.md
            modified:   src/flexible_pages/index.md
            modified:   stackbit.yaml

    Untracked files:
      (use "git add <file>..." to include in what will be committed)
            src/_includes/action.html
            src/_includes/card.html

    no changes added to commit (use "git add" and/or "git commit -a")

Commit your changes and push them to the remote `preview` branch:

    git add .
    git commit -m "tutorial phase 3"
    git push

[![Animated GIF of Stackbit Studio screen capture editing a page built from phase 3 of the tutorial](https://stackbit-docs-files.s3.amazonaws.com/components-phase3-drag-section.gif)](https://stackbit-docs-files.s3.amazonaws.com/components-phase3-drag-section.mp4)

Once you're in Stackbit, be sure to play in the Studio and see how easy it is to point-and-click your way through a complete content overhaul:

-   Add, remove, & edit pages
-   Add, remove, edit, & reorder sections
-   Add, remove, edit, & reorder actions & cards within a section

<a href="#next_steps" class="hash-link"><span class="icon-copy"></span></a>Next steps
-------------------------------------------------------------------------------------

Now that you've built a small page builder, ask yourself:

> Where can my theme benefit from drag-and-drop sections that empower end-users?

When you consider the versatility that can be demanded from your theme and incorporate containers and sections appropriately, you empower end-users to be creative and effective within your theme's constraints. It allows editors, designers, and anyone to quickly spin up pages that fit their often impromptu needs and provide visual feedback reflecting their work results. In this case, the scalability and freedom that the Jamstack provides to developers can go hand in hand with empowering clients, editors, and anyone with the flexibility they require to make modern websites an integral part of their strategy.

<a href="#helpful_resources" class="hash-link"><span class="icon-copy"></span></a>Helpful resources
---------------------------------------------------------------------------------------------------

-   Not on Stackbit yet? [Bring your site](/docs/developer-guides/basics/import-your-site/)
-   Have a theme already? [Section it to use components](/docs/developer-guides/content-modeling/adding-sections-existing-theme/)

Did you find this page useful?
------------------------------

Yes

No

Ready to get started?
---------------------

<a href="https://app.stackbit.com/create" class="button primary">Create your Jamstack site</a>

Jump to Section
---------------

-   [Build your own theme](#build_your_own_theme)
-   [Phase 1](#phase_1)
    -   [CMS models](#cms_models)
    -   [Data entry](#data_entry)
    -   [SSG templates](#ssg_templates)
-   [Phase 2](#phase_2)
    -   [CMS models](#cms_models)
    -   [Data entry](#data_entry)
    -   [SSG templates](#ssg_templates)
-   [Phase 3](#phase_3)
    -   [CMS models](#cms_models)
    -   [Data entry](#data_entry)
    -   [SSG templates](#ssg_templates)
-   [Next steps](#next_steps)
-   [Helpful resources](#helpful_resources)

<img src="https://www.stackbit.com/images/logo_alt.svg" alt="Stackbit logo" class="home-footer-logo" width="187" height="29" />

-   [Documentation](https://docs.stackbit.com/)
-   [Pricing](https://www.stackbit.com/pricing/)
-   [Site Builder](https://app.stackbit.com/create)
-   [Blog](https://stackbit.com/blog)
-   [About](https://stackbit.com/about)
-   [Contact](https://stackbit.com/contact)

Copyright © 2021 Stackbit. Made with Stackbit

[Terms](https://stackbit.com/tos)[Privacy](https://stackbit.com/privacy)[License](https://stackbit.com/license)

<span class="screen-reader-text">GitHub</span>

<span class="screen-reader-text">Twitter</span>

<img src="https://www.facebook.com/tr?id=2703040533152181&amp;ev=PageView&amp;noscript=1" width="1" height="1" />
